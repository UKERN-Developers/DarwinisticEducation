# IOMobileFrameBuffer
IOMobileFrameBuffer (IOMBF) is a kernel driver used for managing the screen's framebuffers.  
Apple Inc. has not disclosed the driver's sourcecode but it was used in known kernel exploits by for example reknown Chinese research team PanGu.

| Selector 	| Action                  	| Input                                                                                            	| Output                                	|
|----------	|-------------------------	|--------------------------------------------------------------------------------------------------	|---------------------------------------	|
| 3        	| getDefaultSurface       	|                                                                                                  	| IOSurfaceID  surfaceID                	|
| 4        	| swapBegin               	|                                                                                                  	| IOMobileFramebufferSwapID swapID      	|
| 5        	| swapEnd                 	| struct IOMobileFramebufferSwapArg                                                                	|                                       	|
| 6        	| swapWait                	| IOMobileFramebufferSwapID  swapID, uint32_t waitOptions, (iOS 4.2+ only) uint64_t timeout_millis 	|                                       	|
| 7        	| getId                   	|                                                                                                  	| IOSwapNotificationID framebufferID    	|
| 8        	| getDisplaySize          	|                                                                                                  	| struct IOMobileFramebufferDisplaySize 	|
| 9        	| setVSyncNotifications   	| size_t functionAddress (if 0, notification is disabled), size_t userData                         	|                                       	|
| 12       	| requestPowerChange      	| uint32_t value                                                                                   	|                                       	|
| 15       	| setDebugFlags           	| uint32_t ???[2]                                                                                  	| uint32_t ???                          	|
| 17       	| setGammaTable           	| struct IOMobileFramebufferGammaTables                                                            	|                                       	|
| 18       	| isMainDisplay           	|                                                                                                  	| uint32_t result                       	|
| 19       	| setWhiteOnBlackMode     	| uint32_t value                                                                                   	|                                       	|
| 22       	| setDisplayDevice        	| uint32_t value                                                                                   	|                                       	|
| 27       	| getGammaTable           	|                                                                                                  	| struct IOMobileFramebufferGammaTables 	|
| 33       	| setVideoPowerSaving     	| uint32_t value                                                                                   	|                                       	|
| 50       	| setBrightnessCorrection 	| uint32_t value                                                                                   	|                                       	|
(*Source: https://iphonedevwiki.net/index.php/IOMobileFramebuffer*)

## About IOMobileFrameBuffer


## Use Cases

## Bugs and mitigations

## Exploits using this driver
