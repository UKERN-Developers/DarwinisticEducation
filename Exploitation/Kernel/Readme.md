# XNU

## About XNU

## Index
- BSD Structure
- Mach microkernel
- IOKit driver interface

## BSD Structure

### Processes
- Initialization of processes
- Loading of executable code
- Process tree and privileges
- Exploiting bugs in the initialization of processes
- Exploiting bugs in the api features for processes

### Threads
- BSD threads and locking

### Tasks

### Kernel credentials
- Patching the kernel after exploitation to gain root

## MACH Microkernel

### Tasks
- Gaining control over memory of processes by using tasks.
- Using fake task ports to gain control over memory of processes.

### Threads
- Arbitrary Read, Write and Execute primitives for userland

### Ports
- Port creation
- Port locking
- Port referencing
- Triggering the zone collector to free a port with zero references.
- Replacing ports
- Port rights and abusing kernel features

### Messages
- Crafting a Mach message
- Sending a mach message
- Mach messages and zone allocations

### Vouchers
- Mach voucher concepts
- Exploiting mach voucher features

### Exceptions
- Handling exceptions with mach
- Debugging with mach exception ports

### Mach Interface Generator
- Exploiting Ownership vulnerabillities

## IOKit

### Tree
- Root domain

### Classes
- Exploiting IOKit serialization to confuse and inject arbitrary userclients
- IOKit classes, Metaclass and reverse engineering

### Objects
- IOKit registry basics 

### Properties
- 
